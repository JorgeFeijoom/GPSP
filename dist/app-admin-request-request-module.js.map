{"version":3,"sources":["webpack:///./src/app/admin/request/request-list/request-list.component.html","webpack:///./src/app/admin/request/request-list/request-list.component.scss","webpack:///./src/app/admin/request/request-list/request-list.component.ts","webpack:///./src/app/admin/request/request-routing.module.ts","webpack:///./src/app/admin/request/request.module.ts","webpack:///./src/app/admin/request/request.service.ts"],"names":[],"mappings":"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","file":"app-admin-request-request-module.js","sourcesContent":["module.exports = \"<div class=\\\"container\\\">\\n  <div class=\\\"main-container\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"center center\\\">\\n    <div fxFlex=\\\"100\\\">\\n        <mat-toolbar color=\\\"accent\\\">\\n            <mat-toolbar-row>\\n              <div class=\\\"main-icon\\\"><mat-icon>notification_important</mat-icon></div>\\n              <div><span class=\\\"title\\\">Peticiones</span></div>\\n              <span class=\\\"spacer\\\"></span>\\n              <button routerLink=\\\"/admin/\\\" mat-icon-button matTooltip=\\\"Volver al Inicio\\\">\\n                <mat-icon>chevron_left</mat-icon>\\n              </button>\\n            </mat-toolbar-row>\\n        </mat-toolbar>\\n\\n        <!-- PROGRESS BAR  -->\\n        <div class=\\\"progress-bar-container\\\" class=\\\"main-container progress-bar-container\\\">\\n          <mat-progress-bar *ngIf=\\\"isLoading\\\" mode=\\\"indeterminate\\\" color=\\\"primary\\\"></mat-progress-bar>\\n        </div>\\n\\n        <!-- NO ITEMS FOR SHOWING -->\\n        <div *ngIf=\\\"!isLoading && requests === null\\\" class=\\\"no-results-container\\\">\\n          <h3> No existen peticiones </h3>\\n        </div>\\n\\n        <!-- RESULTS -->\\n        <div class=\\\"requests\\\" fxLayout=\\\"row wrap\\\" fxLayoutAlign=\\\"space-between start\\\">\\n          <mat-card class=\\\"element\\\" *ngFor=\\\"let request of requests\\\" fxFlex=\\\"100\\\" fxLayout=\\\"row wrap\\\" fxLayoutAlign=\\\"space-between start\\\">\\n            <div fxFlex=\\\"35\\\" fxFlex.sm=\\\"49\\\">\\n              <h3> {{ request.nameSubject }} </h3>\\n              <p>  {{ request.codeSubject }} </p>\\n              \\n              <p class=\\\"who\\\"> de {{ request.nameUser }} </p>\\n            </div>\\n            <div fxFlex=\\\"40\\\" fxFlex.sm=\\\"49\\\">\\n              <h4> Software </h4>\\n              <!-- <p>\\n                {{request.software}}\\n              </p> -->\\n              <p> Visual Studio Code - Versión: 1.12</p>\\n              <p> Oracle Server - Versión: 11g </p>\\n              <p> Pycharm - Versión: 2.14 </p>\\n              <p> R Studio - Versión: 1.1 </p>\\n            </div>\\n            <div class=\\\"check-wrap\\\" fxFlex=\\\"15\\\" fxFlex.sm=\\\"10\\\" fxLayout=\\\"column\\\">\\n              <mat-checkbox\\n                class=\\\"checkbox\\\"\\n                *ngIf=\\\"request.accepted\\\"\\n                [disabled]=\\\"true\\\"\\n                [(ngModel)]=\\\"request.accepted\\\">\\n                Aceptada\\n              </mat-checkbox>\\n              <mat-checkbox\\n                class=\\\"checkbox\\\"\\n                *ngIf=\\\"!request.accepted\\\"\\n                [swal]=\\\"acceptRequestAlert\\\" (confirm)=\\\"acceptRequest(request)\\\"\\n                [(ngModel)]=\\\"request.accepted\\\">\\n                Aceptada\\n              </mat-checkbox>\\n              <mat-checkbox\\n                class=\\\"checkbox\\\"\\n                [(ngModel)]=\\\"request.installed\\\">\\n                Instalada\\n              </mat-checkbox>\\n            </div>\\n          </mat-card>\\n        </div>\\n    </div>\\n  </div>\\n</div>\"","module.exports = \".container {\\n  max-width: 1200px;\\n  width: 90%;\\n  margin: 0px auto;\\n  min-height: calc(100vh - 85px); }\\n\\n.title {\\n  font-weight: 900;\\n  padding-left: 5px; }\\n\\n.main-container {\\n  max-width: 1024px;\\n  width: 100%;\\n  margin: 0px auto;\\n  padding: 20px 0px; }\\n\\nh3 {\\n  font-size: 18px; }\\n\\n.no-results-container {\\n  margin-top: 40px; }\\n\\n.requests .element {\\n  margin-bottom: 40px;\\n  position: relative; }\\n\\n.requests .element .who {\\n    color: #a9a9a9;\\n    position: absolute;\\n    bottom: 10px; }\\n\\n.sidenav-main-content {\\n  display: flex;\\n  height: 100%;\\n  align-items: center;\\n  justify-content: center;\\n  background-color: #f4f3f3;\\n  width: 100%; }\\n\\n.check-wrap {\\n  padding-top: 20px; }\\n\\n.check-wrap .checkbox {\\n    margin: 0 10px 10px; }\\n\"","import { Component, OnInit } from '@angular/core';\nimport { RequestService } from '../request.service';\nimport { ToastrService } from 'ngx-toastr';\n\n@Component({\n  selector: 'app-request-list',\n  templateUrl: './request-list.component.html',\n  styleUrls: ['./request-list.component.scss']\n})\nexport class RequestListComponent implements OnInit {\n  requests = null;\n  isLoading = true;\n\n  //\n  // Alerts\n  //\n\n  acceptRequestAlert = {\n    title: '¿Estás seguro?',\n    text: 'Se aceptará la petición y se mostrará su estado al equipo docente, <b> no se podrá revertir la operación. </b>',\n    type: 'warning',\n    showCancelButton: true,\n    confirmButtonText: 'Aceptar',\n    cancelButtonText: 'Cancelar'\n  };\n\n  installRequestAlert = {\n    title: '¿Estás seguro?',\n    text: 'Se marcará como instalada la petición y se mostrará su estado al equipo docente, <b> no se podrá revertir la operación. </b>',\n    type: 'warning',\n    showCancelButton: true,\n    confirmButtonText: 'Aceptar',\n    cancelButtonText: 'Cancelar'\n  };\n\n  constructor(private requestService: RequestService, private toastr: ToastrService) { }\n\n  ngOnInit() {\n    this\n    .requestService\n    .getAllRequests()\n    .subscribe(\n      (request) => {\n        console.log(request);\n        this.requests = request;\n        console.log('Request: ' + request);\n        this.isLoading = false;\n      },\n      (error: any) => {\n        this.isLoading = false;\n      });\n  }\n\n  acceptRequest (request) {\n    this\n    .requestService\n    .acceptRequest(request._id)\n    .subscribe(\n      (request) => {\n        this.toastr.success('Se ha aceptado la petición.', 'Hecho!');\n        this.ngOnInit();\n      },\n      (error: any) => {\n        this.toastr.error('Ha ocurrido un error inesperado. Consulta con un administrador.', 'Error!');\n      });\n  }\n\n  installRequest (request) {\n    this\n    .requestService\n    .acceptRequest(request._id)\n    .subscribe(\n      (request) => {\n        this.toastr.success('Se ha aceptado la petición.', 'Hecho!');\n        this.ngOnInit();\n      },\n      (error: any) => {\n        this.toastr.error('Ha ocurrido un error inesperado. Consulta con un administrador.', 'Error!');\n      });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { OnlyAdminUsersGuard } from '../admin-user-guard';\nimport { RequestListComponent } from './request-list/request-list.component';\n\nconst routes: Routes = [{\n  path: '',\n  canActivate: [OnlyAdminUsersGuard],\n  children: [\n    { path: '', component: RequestListComponent, pathMatch: 'full' }\n  ]\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class RequestRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RequestListComponent } from './request-list/request-list.component';\nimport { RequestRoutingModule } from './request-routing.module';\nimport { SharedModule } from '../../shared/shared.module';\nimport { SweetAlert2Module } from '@sweetalert2/ngx-sweetalert2';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RequestRoutingModule,\n    SharedModule,\n    SweetAlert2Module.forRoot({\n      buttonsStyling: false,\n      confirmButtonClass: 'mat-flat-button mat-info swal2-button-margin',\n      cancelButtonClass: 'mat-flat-button mat-warn swal2-button-margin'\n    })\n  ],\n  declarations: [RequestListComponent]\n})\nexport class RequestModule { }\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\nimport { Observable } from 'rxjs/Observable';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RequestService {\n\n  constructor(private http: HttpClient ) { }\n\n  /* Get All requests of user */\n  getAllRequests(): Observable<any> {\n    const url = '/api/request/getall';\n    return this.http.get(url, {});\n  }\n\n  acceptRequest(requestId): Observable<any> {\n    console.log('Desde service: ' + requestId);\n    const data = {'requestId': requestId };\n    const url = '/api/request/accept';\n    return this.http\n      .post<any> (url, data,\n        { headers: {}, responseType: 'text' as 'json' }\n      );\n  }\n}\n"],"sourceRoot":""}