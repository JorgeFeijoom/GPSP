{"version":3,"sources":["webpack:///./node_modules/rxjs-compat/_esm5/add/operator/map.js","webpack:///./node_modules/rxjs-compat/_esm5/operator/map.js","webpack:///./src/app/admin/admin-user-guard.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAAqB;AACP;AACd;AACA,+B;;;;;;;;;;;;;;;ACHgC;AAChC;AACA;AACA;AACA,+B;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJ2C;AACW;AAEH;AACpB;AAG/B;IAEE,6BAAoB,WAAwB,EAAU,MAAc;QAAhD,gBAAW,GAAX,WAAW,CAAa;QAAU,WAAM,GAAN,MAAM,CAAQ;IAAG,CAAC;IAExE,yCAAW,GAAX;QAEE;;;;;WAKG;QAPL,iBAiBC;QARC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC,GAAG,CAAC,gBAAM;YAE7C,IAAM,IAAI,GAAS,MAAO,CAAC,IAAI,CAAC;YAEhC,EAAE,CAAC,CAAE,MAAM,IAAI,IAAI,IAAI,IAAI,CAAC,OAAQ,CAAC;gBAAC,MAAM,CAAC,IAAI,CAAC;YAClD,IAAI;gBAAC,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;IAEL,CAAC;IArBU,mBAAmB;QAD/B,gEAAU,EAAE;yCAGsB,8DAAW,EAAkB,sDAAM;OAFzD,mBAAmB,CAsB/B;IAAD,0BAAC;CAAA;AAtB+B","file":"common.js","sourcesContent":["import { Observable } from 'rxjs';\nimport { map } from '../../operator/map';\nObservable.prototype.map = map;\n//# sourceMappingURL=map.js.map","import { map as higherOrderMap } from 'rxjs/operators';\nexport function map(project, thisArg) {\n    return higherOrderMap(project, thisArg)(this);\n}\n//# sourceMappingURL=map.js.map","import { Injectable } from '@angular/core';\nimport { Router, CanActivate } from \"@angular/router\";\nimport { Observable } from 'rxjs/Observable';\nimport { AuthService } from '../auth/auth.service';\nimport 'rxjs/add/operator/map';\n\n@Injectable()\nexport class OnlyAdminUsersGuard implements CanActivate {\n  \n  constructor(private authService: AuthService, private router: Router) {}\n\n  canActivate(): Observable<boolean> | boolean {\n\n    /*\n     * Only authenticated users with admin role are allowed to pass.\n     * \n     * If user is not allowed, is redirected to home\n     *\n     */\n\n    return this.authService.isLoggedIn().map(logged => {\n\n      const user = (<any>window).user;\n\n      if ( logged && user && user.isAdmin ) return true;\n      else this.router.navigate(['']);\n    });\n\n  }\n}\n"],"sourceRoot":""}